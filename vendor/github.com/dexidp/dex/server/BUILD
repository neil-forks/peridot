load("@io_bazel_rules_go//go:def.bzl", "go_library")

go_library(
    name = "server",
    srcs = [
        "api.go",
        "deviceflowhandlers.go",
        "doc.go",
        "handlers.go",
        "oauth2.go",
        "refreshhandlers.go",
        "rotation.go",
        "server.go",
        "templates.go",
    ],
    importmap = "go.resf.org/peridot/vendor/github.com/dexidp/dex/server",
    importpath = "github.com/dexidp/dex/server",
    visibility = ["//visibility:public"],
    deps = [
        "//vendor/github.com/AppsFlyer/go-sundheit",
        "//vendor/github.com/Masterminds/sprig/v3:sprig",
        "//vendor/github.com/coreos/go-oidc/v3/oidc",
        "//vendor/github.com/dexidp/dex/api/v2:api",
        "//vendor/github.com/dexidp/dex/connector",
        "//vendor/github.com/dexidp/dex/connector/atlassiancrowd",
        "//vendor/github.com/dexidp/dex/connector/authproxy",
        "//vendor/github.com/dexidp/dex/connector/bitbucketcloud",
        "//vendor/github.com/dexidp/dex/connector/gitea",
        "//vendor/github.com/dexidp/dex/connector/github",
        "//vendor/github.com/dexidp/dex/connector/gitlab",
        "//vendor/github.com/dexidp/dex/connector/google",
        "//vendor/github.com/dexidp/dex/connector/keystone",
        "//vendor/github.com/dexidp/dex/connector/ldap",
        "//vendor/github.com/dexidp/dex/connector/linkedin",
        "//vendor/github.com/dexidp/dex/connector/microsoft",
        "//vendor/github.com/dexidp/dex/connector/mock",
        "//vendor/github.com/dexidp/dex/connector/oauth",
        "//vendor/github.com/dexidp/dex/connector/oidc",
        "//vendor/github.com/dexidp/dex/connector/openshift",
        "//vendor/github.com/dexidp/dex/connector/saml",
        "//vendor/github.com/dexidp/dex/pkg/log",
        "//vendor/github.com/dexidp/dex/server/internal",
        "//vendor/github.com/dexidp/dex/storage",
        "//vendor/github.com/dexidp/dex/web",
        "//vendor/github.com/felixge/httpsnoop",
        "//vendor/github.com/gorilla/handlers",
        "//vendor/github.com/gorilla/mux",
        "//vendor/github.com/prometheus/client_golang/prometheus",
        "//vendor/golang.org/x/crypto/bcrypt",
        "//vendor/gopkg.in/square/go-jose.v2:go-jose_v2",
        "@org_golang_x_net//html",
    ],
)
