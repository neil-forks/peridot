load("@io_bazel_rules_go//go:def.bzl", "go_library")

go_library(
    name = "tchannel-go",
    srcs = [
        "all_channels.go",
        "arguments.go",
        "calloptions.go",
        "channel.go",
        "channelstate_string.go",
        "checksum.go",
        "connection.go",
        "connection_direction.go",
        "connectionstate_string.go",
        "context.go",
        "context_builder.go",
        "context_header.go",
        "dial_16.go",
        "dial_17.go",
        "doc.go",
        "errors.go",
        "fragmenting_reader.go",
        "fragmenting_writer.go",
        "frame.go",
        "frame_pool.go",
        "handlers.go",
        "health.go",
        "idle_sweep.go",
        "inbound.go",
        "introspection.go",
        "localip.go",
        "logger.go",
        "messages.go",
        "messagetype_string.go",
        "mex.go",
        "outbound.go",
        "peer.go",
        "peer_heap.go",
        "peer_strategies.go",
        "preinit_connection.go",
        "relay.go",
        "relay_api.go",
        "relay_messages.go",
        "relay_timer_pool.go",
        "reqres.go",
        "reqresreaderstate_string.go",
        "reqreswriterstate_string.go",
        "retry.go",
        "retryon_string.go",
        "root_peer_list.go",
        "sockio_darwin.go",
        "sockio_linux.go",
        "sockio_non_unix.go",
        "sockio_unix.go",
        "stats.go",
        "subchannel.go",
        "systemerrcode_string.go",
        "tracing.go",
        "tracing_keys.go",
        "version.go",
    ],
    importmap = "go.resf.org/peridot/vendor/github.com/temporalio/tchannel-go",
    importpath = "github.com/temporalio/tchannel-go",
    visibility = ["//visibility:public"],
    deps = [
        "//vendor/github.com/opentracing/opentracing-go",
        "//vendor/github.com/opentracing/opentracing-go/ext",
        "//vendor/github.com/temporalio/tchannel-go/internal/argreader",
        "//vendor/github.com/temporalio/tchannel-go/relay",
        "//vendor/github.com/temporalio/tchannel-go/thrift/arg2",
        "//vendor/github.com/temporalio/tchannel-go/tnet",
        "//vendor/github.com/temporalio/tchannel-go/tos",
        "//vendor/github.com/temporalio/tchannel-go/trand",
        "//vendor/github.com/temporalio/tchannel-go/typed",
        "//vendor/go.uber.org/atomic",
        "@org_golang_x_net//context",
        "@org_golang_x_net//ipv4",
        "@org_golang_x_net//ipv6",
    ] + select({
        "@io_bazel_rules_go//go/platform:aix": [
            "//vendor/go.uber.org/multierr",
            "//vendor/golang.org/x/sys/unix",
        ],
        "@io_bazel_rules_go//go/platform:android": [
            "//vendor/go.uber.org/multierr",
            "//vendor/golang.org/x/sys/unix",
        ],
        "@io_bazel_rules_go//go/platform:darwin": [
            "//vendor/go.uber.org/multierr",
            "//vendor/golang.org/x/sys/unix",
        ],
        "@io_bazel_rules_go//go/platform:dragonfly": [
            "//vendor/go.uber.org/multierr",
            "//vendor/golang.org/x/sys/unix",
        ],
        "@io_bazel_rules_go//go/platform:freebsd": [
            "//vendor/go.uber.org/multierr",
            "//vendor/golang.org/x/sys/unix",
        ],
        "@io_bazel_rules_go//go/platform:ios": [
            "//vendor/go.uber.org/multierr",
            "//vendor/golang.org/x/sys/unix",
        ],
        "@io_bazel_rules_go//go/platform:linux": [
            "//vendor/go.uber.org/multierr",
            "//vendor/golang.org/x/sys/unix",
        ],
        "@io_bazel_rules_go//go/platform:netbsd": [
            "//vendor/go.uber.org/multierr",
            "//vendor/golang.org/x/sys/unix",
        ],
        "@io_bazel_rules_go//go/platform:openbsd": [
            "//vendor/go.uber.org/multierr",
            "//vendor/golang.org/x/sys/unix",
        ],
        "@io_bazel_rules_go//go/platform:solaris": [
            "//vendor/go.uber.org/multierr",
            "//vendor/golang.org/x/sys/unix",
        ],
        "//conditions:default": [],
    }),
)
