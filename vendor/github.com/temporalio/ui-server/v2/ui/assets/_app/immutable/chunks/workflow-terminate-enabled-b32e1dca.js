import{d as J,r as ke,w as I}from"./index-01673112.js";import{p as le}from"./stores-450871c1.js";import{a as pe,b as ge}from"./workflow-service-73255791.js";import{s as we}from"./list-workflow-query-dc2ac10d.js";import{S as se,i as ne,s as ae,w as M,x as D,y as q,f as b,t as k,z as R,ai as y,J as P,o as oe,ak as ve,F as ie,k as S,a as z,l as V,m as A,h as _,c as L,n as p,b as g,K as N,g as fe,d as re,G as ue,H as ce,I as de,a2 as me,q as B,r as F,u as Q,aj as G,Y as H,M as Y,N as U,a7 as Ce,a8 as Ie,B as Oe,e as X,Q as T}from"./index-b87195f7.js";import{I as _e}from"./icon-7a5b5d81.js";import{M as Ee}from"./menu-item-10f5b5f6.js";import{M as Se,a as Ve,b as Ae}from"./menu-0961dc81.js";const Me=300,De=async(s,e,l)=>{e.set(!0);try{await l()}catch(t){console.error(t)}s.set(!1),setTimeout(()=>{e.set(!1)},Me)},qe=I(0),Re=J([le],([s])=>s.params.namespace),We=J([le],([s])=>s.url.searchParams.get("query")),ze=J([Re,We,qe,we],([s,e,l,t])=>({namespace:s,query:e,refresh:l,supportsAdvancedVisibility:t})),Le=s=>{Be.set(s)},Ne=s=>ze.subscribe(({namespace:e,query:l,supportsAdvancedVisibility:t})=>{De(Pe,Te,async()=>{const{workflows:n,error:c}=await pe(e,{query:l});if(s(n),t){const r=await ge(e,l);Le(r)}c?Z.set(c):Z.set("")})}),nt=I({parameters:{},searchType:"basic"}),Te=I(!0),Pe=I(!0),Be=I({count:0,totalCount:0}),Z=I(""),at=ke([],Ne),ot=I("");function $(s){let e,l;return e=new _e({props:{name:"checkmark"}}),{c(){M(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function x(s){let e,l;return{c(){e=S("span"),l=B(s[0]),this.h()},l(t){e=V(t,"SPAN",{class:!0});var n=A(e);l=F(n,s[0]),n.forEach(_),this.h()},h(){p(e,"class","option-description svelte-opscnd")},m(t,n){g(t,e,n),N(e,l)},p(t,n){n&1&&Q(l,t[0])},d(t){t&&_(e)}}}function Fe(s){let e,l,t,n,c,r,f=s[3]&&$();const a=s[10].default,o=ie(a,s,s[12],null);let i=s[0]&&x(s);return{c(){e=S("div"),f&&f.c(),l=z(),t=S("div"),n=S("span"),o&&o.c(),c=z(),i&&i.c(),this.h()},l(u){e=V(u,"DIV",{class:!0});var h=A(e);f&&f.l(h),h.forEach(_),l=L(u),t=V(u,"DIV",{class:!0});var v=A(t);n=V(v,"SPAN",{class:!0});var C=A(n);o&&o.l(C),C.forEach(_),c=L(v),i&&i.l(v),v.forEach(_),this.h()},h(){p(e,"class","mr-2 w-6"),p(n,"class","option-label svelte-opscnd"),p(t,"class","flex w-full flex-col")},m(u,h){g(u,e,h),f&&f.m(e,null),g(u,l,h),g(u,t,h),N(t,n),o&&o.m(n,null),s[11](n),N(t,c),i&&i.m(t,null),r=!0},p(u,h){u[3]?f?h&8&&b(f,1):(f=$(),f.c(),b(f,1),f.m(e,null)):f&&(fe(),k(f,1,1,()=>{f=null}),re()),o&&o.p&&(!r||h&4096)&&ue(o,a,u,u[12],r?de(a,u[12],h,null):ce(u[12]),null),u[0]?i?i.p(u,h):(i=x(u),i.c(),i.m(t,null)):i&&(i.d(1),i=null)},i(u){r||(b(f),b(o,u),r=!0)},o(u){k(f),k(o,u),r=!1},d(u){u&&_(e),f&&f.d(),u&&_(l),u&&_(t),o&&o.d(u),s[11](null),i&&i.d()}}}function Qe(s){let e,l;return e=new Ee({props:{class:"flex flex-row items-start",selected:s[3],dark:s[1],$$slots:{default:[Fe]},$$scope:{ctx:s}}}),e.$on("click",s[6]),{c(){M(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},p(t,[n]){const c={};n&8&&(c.selected=t[3]),n&2&&(c.dark=t[1]),n&4109&&(c.$$scope={dirty:n,ctx:t}),e.$set(c)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function je(s,e,l){let t,n,{$$slots:c={},$$scope:r}=e;const f=y("select-value");P(s,f,m=>l(9,n=m));const a=y("select-change"),o=y("select-options");P(s,o,m=>l(14,t=m));let{value:i}=e,{description:u=""}=e,{dark:h=!1}=e,v=!1,C,w,O;oe(()=>{w&&(O=w.textContent,t.push({value:i,label:O}))}),ve(()=>{let m=t.findIndex(W=>W.value===i);m!==void 0&&t.splice(m,1)});const E=()=>{a(C)};function j(m){me[m?"unshift":"push"](()=>{w=m,l(2,w)})}return s.$$set=m=>{"value"in m&&l(7,i=m.value),"description"in m&&l(0,u=m.description),"dark"in m&&l(1,h=m.dark),"$$scope"in m&&l(12,r=m.$$scope)},s.$$.update=()=>{s.$$.dirty&900&&w&&(l(8,C=i??w.textContent),l(3,v=n.value===C),O=w.textContent)},[u,h,w,v,f,o,E,i,C,n,c,j,r]}class it extends se{constructor(e){super(),ne(this,e,je,Qe,ae,{value:7,description:0,dark:1})}}function ee(s){let e,l;return{c(){e=S("label"),l=B(s[2]),this.h()},l(t){e=V(t,"LABEL",{for:!0,class:!0});var n=A(e);l=F(n,s[2]),n.forEach(_),this.h()},h(){p(e,"for",s[3]),p(e,"class","svelte-1kzttn7")},m(t,n){g(t,e,n),N(e,l)},p(t,n){n&4&&Q(l,t[2]),n&8&&p(e,"for",t[3])},d(t){t&&_(e)}}}function ye(s){let e=s[9].label+"",l;return{c(){l=B(e)},l(t){l=F(t,e)},m(t,n){g(t,l,n)},p(t,n){n&512&&e!==(e=t[9].label+"")&&Q(l,e)},d(t){t&&_(l)}}}function Ge(s){let e;return{c(){e=B(s[5])},l(l){e=F(l,s[5])},m(l,t){g(l,e,t)},p(l,t){t&32&&Q(e,l[5])},d(l){l&&_(e)}}}function te(s){let e,l;return e=new _e({props:{name:"lock",class:"text-gray-500"}}),{c(){M(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,n){q(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){k(e.$$.fragment,t),l=!1},d(t){R(e,t)}}}function He(s){let e,l,t,n;function c(o,i){return!o[0]&&o[5]!==""?Ge:ye}let r=c(s),f=r(s),a=s[6]&&te();return{c(){e=S("div"),f.c(),l=z(),a&&a.c(),t=X(),this.h()},l(o){e=V(o,"DIV",{class:!0,id:!0});var i=A(e);f.l(i),i.forEach(_),l=L(o),a&&a.l(o),t=X(),this.h()},h(){p(e,"class","select-input svelte-1kzttn7"),p(e,"id",s[3]),T(e,"dark",s[4]),T(e,"disabled",s[6])},m(o,i){g(o,e,i),f.m(e,null),g(o,l,i),a&&a.m(o,i),g(o,t,i),n=!0},p(o,i){r===(r=c(o))&&f?f.p(o,i):(f.d(1),f=r(o),f&&(f.c(),f.m(e,null))),(!n||i&8)&&p(e,"id",o[3]),(!n||i&16)&&T(e,"dark",o[4]),(!n||i&64)&&T(e,"disabled",o[6]),o[6]?a?i&64&&b(a,1):(a=te(),a.c(),b(a,1),a.m(t.parentNode,t)):a&&(fe(),k(a,1,1,()=>{a=null}),re())},i(o){n||(b(a),n=!0)},o(o){k(a),n=!1},d(o){o&&_(e),f.d(),o&&_(l),a&&a.d(o),o&&_(t)}}}function Je(s){let e;const l=s[14].default,t=ie(l,s,s[16],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,c){t&&t.m(n,c),e=!0},p(n,c){t&&t.p&&(!e||c&65536)&&ue(t,l,n,n[16],e?de(l,n[16],c,null):ce(n[16]),null)},i(n){e||(b(t,n),e=!0)},o(n){k(t,n),e=!1},d(n){t&&t.d(n)}}}function Ke(s){let e,l,t,n,c;function r(a){s[15](a)}let f={hasIndicator:!s[6],class:"select-input-container "+(s[6]?"disabled":"")+" "+(s[7]?"unroundRight":""),keepOpen:s[8],controls:s[3]+"-menu",testId:s[12].testId,dark:s[4],disabled:s[6],$$slots:{default:[He]},$$scope:{ctx:s}};return s[1]!==void 0&&(f.show=s[1]),e=new Ve({props:f}),me.push(()=>Ce(e,"show",r)),n=new Ae({props:{id:s[3]+"-menu",class:"h-auto max-h-96 min-w-fit",show:s[1],dark:s[4],$$slots:{default:[Je]},$$scope:{ctx:s}}}),{c(){M(e.$$.fragment),t=z(),M(n.$$.fragment)},l(a){D(e.$$.fragment,a),t=L(a),D(n.$$.fragment,a)},m(a,o){q(e,a,o),g(a,t,o),q(n,a,o),c=!0},p(a,o){const i={};o&64&&(i.hasIndicator=!a[6]),o&192&&(i.class="select-input-container "+(a[6]?"disabled":"")+" "+(a[7]?"unroundRight":"")),o&256&&(i.keepOpen=a[8]),o&8&&(i.controls=a[3]+"-menu"),o&4096&&(i.testId=a[12].testId),o&16&&(i.dark=a[4]),o&64&&(i.disabled=a[6]),o&66169&&(i.$$scope={dirty:o,ctx:a}),!l&&o&2&&(l=!0,i.show=a[1],Ie(()=>l=!1)),e.$set(i);const u={};o&8&&(u.id=a[3]+"-menu"),o&2&&(u.show=a[1]),o&16&&(u.dark=a[4]),o&65536&&(u.$$scope={dirty:o,ctx:a}),n.$set(u)},i(a){c||(b(e.$$.fragment,a),b(n.$$.fragment,a),c=!0)},o(a){k(e.$$.fragment,a),k(n.$$.fragment,a),c=!1},d(a){R(e,a),a&&_(t),R(n,a)}}}function Ye(s){let e,l,t,n,c,r=s[2]&&ee(s);return t=new Se({props:{class:"w-full",$$slots:{default:[Ke]},$$scope:{ctx:s}}}),{c(){e=S("div"),r&&r.c(),l=z(),M(t.$$.fragment),this.h()},l(f){e=V(f,"DIV",{class:!0});var a=A(e);r&&r.l(a),l=L(a),D(t.$$.fragment,a),a.forEach(_),this.h()},h(){p(e,"class",n="select "+s[12].class+" svelte-1kzttn7")},m(f,a){g(f,e,a),r&&r.m(e,null),N(e,l),q(t,e,null),c=!0},p(f,[a]){f[2]?r?r.p(f,a):(r=ee(f),r.c(),r.m(e,l)):r&&(r.d(1),r=null);const o={};a&70651&&(o.$$scope={dirty:a,ctx:f}),t.$set(o),(!c||a&4096&&n!==(n="select "+f[12].class+" svelte-1kzttn7"))&&p(e,"class",n)},i(f){c||(b(t.$$.fragment,f),c=!0)},o(f){k(t.$$.fragment,f),c=!1},d(f){f&&_(e),r&&r.d(),R(t)}}}function Ue(s,e,l){let t,n,{$$slots:c={},$$scope:r}=e,{show:f=!1}=e,{label:a=""}=e,{id:o}=e,{value:i=void 0}=e,{dark:u=!1}=e,{placeholder:h=""}=e,{disabled:v=!1}=e,{unroundRight:C=!1}=e,{keepOpen:w=!1}=e,{onChange:O=Oe}=e;const E=I({value:i,label:i==null?void 0:i.toString(),onChange:O});P(s,E,d=>l(9,t=d));const j=d=>{l(0,i=d),O(i)};function m(d){let K=n.find(be=>be.value===d);if(K!==void 0)return K.label}const W=I([]);P(s,W,d=>l(17,n=d)),G("select-value",E),G("select-change",j),G("select-options",W),oe(()=>{H(E,t.label=m(i),t)});function he(d){f=d,l(1,f)}return s.$$set=d=>{l(12,e=Y(Y({},e),U(d))),"show"in d&&l(1,f=d.show),"label"in d&&l(2,a=d.label),"id"in d&&l(3,o=d.id),"value"in d&&l(0,i=d.value),"dark"in d&&l(4,u=d.dark),"placeholder"in d&&l(5,h=d.placeholder),"disabled"in d&&l(6,v=d.disabled),"unroundRight"in d&&l(7,C=d.unroundRight),"keepOpen"in d&&l(8,w=d.keepOpen),"onChange"in d&&l(13,O=d.onChange),"$$scope"in d&&l(16,r=d.$$scope)},s.$$.update=()=>{s.$$.dirty&1&&(H(E,t.value=i,t),H(E,t.label=m(i),t))},e=U(e),[i,f,a,o,u,h,v,C,w,t,E,W,e,O,c,he,r]}class ft extends se{constructor(e){super(),ne(this,e,Ue,Ye,ae,{show:1,label:2,id:3,value:0,dark:4,placeholder:5,disabled:6,unroundRight:7,keepOpen:8,onChange:13})}}const rt=s=>!s.disableWriteActions&&!s.workflowCancelDisabled,ut=s=>!s.disableWriteActions&&!s.workflowTerminateDisabled;export{it as O,ft as S,ut as a,nt as b,ot as c,at as d,Z as e,Be as f,Pe as l,qe as r,Te as u,rt as w};
